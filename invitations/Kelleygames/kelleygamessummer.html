<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kelley Games Invitation</title>
  <link rel="stylesheet" href="kelleygamessummer.css">
</head>
<body>
  <div class="overlay"></div>
  <main class="card">
    <h1 class="title">🏅 You’re Invited 🏅</h1>
    <h2 class="subtitle">Annual Kelley Games – Summer Competition!</h2>

    <section class="details">
      <p><strong>📅 Date:</strong> Saturday, July 4th, 2025</p>
      <p><strong>🕖 Time:</strong> 12:00 PM – Whenever we're to drunk to stand</p>
      <p><strong>📍 Location:</strong> Kelley Residence, 35455 Grand Ave North Branch, MN 55056</p>
      <p><strong>👕 Attire:</strong> Wear your <strong>team color</strong> – red or blue!</p>
      <p><strong>🍴 Food & Drinks:</strong> BBQ, snacks, water & beer</p>
    </section>

    <section class="games">
      <h3>🎮 Games Lineup:</h3>
      <ul>
        <li>Slip and Slide Kickball</li>
        <li>Volleyball</li>
        <li>Football</li>
        <li>Baseball</li>
        <li>Relay Races</li>
        <li>Tug of War</li>
        <li>Frisbee Challenges</li>
        <li>Other surprise games!</li>
      </ul>
    </section>

    <section class="teams">
      <h3>⚔️ Team Roster</h3>
      <table>
        <thead>
          <tr>
            <th>Red Team</th>
            <th>Blue Team</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Justin</td>
            <td>Bridget</td>
          </tr>
          <tr>
            <td>Mason</td>
            <td>Aubrie</td>
          </tr>
          <tr>
            <td>Andrew</td>
            <td>Sydney</td>
          </tr>
          <tr>
            <td>Ben</td>
            <td>Emma</td>
          </tr>
          <tr>
            <td>Rachel</td>
            <td>Brady^2</td>
          </tr>
          <tr>
            <td>Zoe</td>
            <td>Ryan</td>
          </tr>
          <tr>
            <td>McKenzie</td>
            <td>Brady</td>
          </tr>
          <!-- Add more rows as needed -->
        </tbody>
      </table>
    </section>

    <section class="plus-one">
      <p class="plus-one-text">➕ Feel free to bring a <strong>+1</strong> — the more competition, the better!</p>
    </section>

    <!--<section class="contact">
      <p class="rsvp-text">📱 Please text <strong>Justin</strong> or <strong>Bridget</strong> to RSVP and let us know if you’ll be bringing someone!</p>
    </section>-->
<br>
<section class="rsvp-section">
  <h2 class="rsvp-title">📝 RSVP</h2>
  <form action="https://formspree.io/f/xovkddwo" method="POST" class="rsvp-form">
    <label for="name">Your Name</label>
    <input type="text" name="name" id="name" required>

    <label for="plusone">Bringing a +1?</label>
    <select name="plusone" id="plusone">
      <option value="No">No</option>
      <option value="Yes">Yes</option>
    </select>

    <label for="attending">Will you attend?</label>
    <select name="attending" id="attending" required>
      <option value="Yes">Yes</option>
      <option value="No">No</option>
      <option value="Maybe">Maybe</option>
    </select>

    <label for="notes">What food will you be bringing?</label>
    <textarea name="notes" id="notes"></textarea>

    <button type="submit">Submit RSVP</button>
  </form>
</section>

    <!-- Dynamic Food List Section -->
    <section>
      <h2>What Everyone is Bringing</h2>
      <ul id="food-list">
        <li>Loading...</li>
      </ul>
      <p id="attendee-count" style="margin-top: 1rem; font-weight: bold;">Loading attendee count...</p>
    </section>

  </main>

<script>
  const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQNyO2losyWu2cTVbOGkX1pN29iyxzrm7kuR5EyvSycOWMEWD1B6W--ZmTHruizLZGfdspTMU0jLy92/pub?gid=0&single=true&output=csv";

  fetch(sheetURL)
    .then(res => res.text())
    .then(csv => {
      const rows = csv.split("\n").map(r => r.split(","));
      const foodItems = rows.slice(1).map(r => r[1]?.trim()).filter(f => f && f !== "");

      // Food list
      const ul = document.getElementById("food-list");
      ul.innerHTML = foodItems.length > 0
        ? foodItems.map(f => `<li>${f}</li>`).join("")
        : "<li>No food items yet</li>";

      // Attendee count (cell D1)
      const attendeeCount = rows[0][3]?.trim(); // D1 = column index 3 (0-based)
      const countElement = document.getElementById("attendee-count");
      if (attendeeCount) {
        countElement.textContent = `👥 Currently ${attendeeCount} people are coming`;
      } else {
        countElement.textContent = "👥 Attendee count not available";
      }
    })
    .catch(err => {
      document.getElementById("food-list").innerHTML = "<li>Failed to load food list</li>";
      document.getElementById("attendee-count").textContent = "👥 Unable to load attendee count";
      console.error(err);
    });
</script>

<style>
  #food-list {
    list-style-type: none;
    padding: 0;
    margin-top: 1rem;
  }

  #food-list li {
    background-color: rgba(255, 255, 255, 0.1);
    margin: 5px 0;
    padding: 10px;
    border-radius: 5px;
    color: #fff;
  }

  section h2 {
    margin-bottom: 0.5rem;
    margin-top: 1rem;
  }
</style>

</body>
</html>
    
  </main>
</body>
</html>
