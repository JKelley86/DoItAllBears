<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Halloween Party Invitation</title>
  <link rel="stylesheet" href="halloween.css">
</head>
<body>
  <div class="overlay"></div>
  <main class="card">
    <h1 class="title">ğŸƒ Youâ€™re Invited ğŸƒ</h1>
    <h2 class="subtitle">Halloween Spooktacular</h2>

    <section class="details">
      <p><strong>ğŸ“… Date:</strong> Friday, October 31st, 2025</p>
      <p><strong>ğŸ•– Time:</strong> 5:00 PM â€“ Probably too late</p>
      <p><strong>ğŸ“ Location:</strong> Kelley Residence, 35455 Grand Ave North Branch, MN 55056</p>
      <p><strong>ğŸ´ Food & Drinks:</strong> Spooky snacks, potluck style, BYOB cauldron ğŸ¹</p>
      <p><strong>ğŸ‘» Dress Code:</strong> Costumes required â€” prize for best outfit!</p>
      <p><strong>ğŸ¶ Entertainment:</strong> Music, games, bonfire & drinking</p>
    </section>
    
    <section class="plus-one">
      <p class="plus-one-text">â• Feel free to bring a <strong>+1</strong> â€” the more scary costumes the better!</p>
    </section>
    
    <br>
    <section class="rsvp-section">
      <h2 class="rsvp-title">ğŸ“ RSVP</h2>
      <form action="https://formspree.io/f/xovkddwo" method="POST" class="rsvp-form">
        <label for="name">Your Name</label>
        <input type="text" name="name" id="name" required>

        <label for="plusone">Bringing a +1?</label>
        <select name="plusone" id="plusone">
          <option value="No">No</option>
          <option value="Yes">Yes</option>
        </select>

        <label for="attending">Will you attend?</label>
        <select name="attending" id="attending" required>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
          <option value="Maybe">Maybe</option>
        </select>

        <label for="notes">What food will you be bringing?</label>
        <textarea name="notes" id="notes"></textarea>

        <button type="submit">Submit RSVP</button>
      </form>
    </section>

    <!-- Dynamic Food List Section -->
    <section>
      <h2>What Everyone is Bringing</h2>
      <ul id="food-list">
        <li>Loading...</li>
      </ul>
    </section>

  </main>

  <script>
    const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQNyO2losyWu2cTVbOGkX1pN29iyxzrm7kuR5EyvSycOWMEWD1B6W--ZmTHruizLZGfdspTMU0jLy92/pub?gid=0&single=true&output=csv";

    fetch(sheetURL)
      .then(res => res.text())
      .then(csv => {
        const rows = csv.split("\n").slice(1); // skip header row
        const foodItems = rows
          .map(r => r.split(",")[2]) // 3rd column = Food
          .filter(f => f && f.trim() !== ""); // remove empty cells

        const ul = document.getElementById("food-list");
        if (foodItems.length === 0) {
          ul.innerHTML = "<li>No food items yet</li>";
        } else {
          ul.innerHTML = foodItems.map(f => `<li>${f.trim()}</li>`).join("");
        }
      })
      .catch(err => {
        document.getElementById("food-list").innerHTML = "<li>Failed to load food list</li>";
        console.error(err);
      });
  </script>

  <style>
    #food-list {
      list-style-type: none;
      padding: 0;
      margin-top: 1rem;
    }

    #food-list li {
      background-color: rgba(255, 255, 255, 0.1);
      margin: 5px 0;
      padding: 10px;
      border-radius: 5px;
      color: #fff;
    }

    section h2 {
      margin-bottom: 0.5rem;
    }
  </style>

</body>
</html>
