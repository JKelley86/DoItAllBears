<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Date Planner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
body{
  margin:0;
  font-family:"Comic Sans MS",cursive;
  background:linear-gradient(135deg,#c2e9fb,#f9f7d9);
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

.card{
  background:white;
  padding:35px;
  border-radius:25px;
  text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,.2);
  width:90%;
  max-width:500px;
}

select{
  padding:10px;
  margin:10px;
  font-size:16px;
  border-radius:10px;
}

button{
  padding:12px 22px;
  font-size:18px;
  border:none;
  border-radius:25px;
  background:#ff4d6d;
  color:white;
  cursor:pointer;
}

#stageArea{
  display:none;
  position:fixed;
  inset:0;
  background:#fff6f8;
  text-align:center;
  padding-top:40px;
}

.stageTitle{font-size:28px;margin-bottom:10px;}
.cardArea{display:flex;justify-content:center;gap:40px;margin-top:40px;}

.flipCard{width:200px;height:240px;perspective:1000px;}
.inner{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:.6s;}
.flipCard.flipped .inner{transform:rotateY(180deg);}

.front,.back{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:15px;
  backface-visibility:hidden;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
  padding:20px;
}

.front{background:#fff;}
.back{
  background:#fff;
  transform:rotateY(180deg);
  border:2px dashed #ff4d6d;
}

#confettiCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}
</style>
</head>

<body>

<canvas id="confettiCanvas"></canvas>

<div class="card" id="setup">
  <h1>Choose the vibe</h1>

  <select id="typeSelect">
    <option value="">Stay in / Go out / Combo</option>
    <option value="stay">Stay in</option>
    <option value="out">Go out</option>
    <option value="combo">Combination</option>
  </select>

  <select id="budgetSelect">
    <option value="">Cheap / Go wild</option>
    <option value="cheap">Cheap</option>
    <option value="wild">Go wild</option>
  </select>

  <br>
  <button onclick="startFlow()">Start</button>
</div>

<div id="stageArea">
  <div class="stageTitle" id="stageTitle"></div>
  <div class="cardArea" id="cardArea"></div>
</div>

<script>
/* =========================
   EDIT OPTIONS HERE
========================= */

const DATA = {
stay:{
cheap:[
 {title:"Breakfast", options:["Pancakes","Bagels"]},
 {title:"Activity", options:["Board games","Movie"]},
 {title:"Dinner", options:["Cook pasta","Order pizza"]}
],
wild:[
 {title:"Breakfast", options:["Fancy brunch","Steak & eggs"]},
 {title:"Activity", options:["Spa day","Gaming marathon"]},
 {title:"Dinner", options:["Steak dinner","Sushi night"]}
]
},

out:{
cheap:[
 {title:"Morning", options:["Coffee shop","Walk"]},
 {title:"Activity", options:["Arcade","Bowling"]},
 {title:"Dinner", options:["Diner","Burgers"]}
],
wild:[
 {title:"Morning", options:["Brunch","Cafe"]},
 {title:"Activity", options:["Shopping","Museum"]},
 {title:"Dinner", options:["Nice dinner","Bar hopping"]}
]
},

combo:{
cheap:[
 {title:"Morning", options:["Coffee out","Breakfast home"]},
 {title:"Activity", options:["Park","Movie"]},
 {title:"Dinner", options:["Takeout","Cook"]}
],
wild:[
 {title:"Morning", options:["Brunch","Cafe"]},
 {title:"Activity", options:["Bowling","Arcade"]},
 {title:"Dinner", options:["Restaurant","Dessert bar"]}
]
}
};

/* ========================= */

let stages=[];
let stageIndex=0;

function startFlow(){
  const type=document.getElementById("typeSelect").value;
  const budget=document.getElementById("budgetSelect").value;

  if(!type || !budget) return;

  stages = DATA[type][budget];
  stageIndex = 0;

  document.getElementById("setup").style.display="none";
  document.getElementById("stageArea").style.display="block";

  showStage();
}

function showStage(){
  const title=document.getElementById("stageTitle");
  const area=document.getElementById("cardArea");

  area.innerHTML="";

  if(stageIndex>=stages.length){
    title.innerHTML="Done ðŸ˜Ž";
    return;
  }

  title.innerHTML=stages[stageIndex].title;

  stages[stageIndex].options.forEach(option=>{
    const wrap=document.createElement("div");
    wrap.className="flipCard";

    wrap.innerHTML=`
      <div class="inner">
        <div class="front">Pick one</div>
        <div class="back">${option}</div>
      </div>
    `;

    wrap.onclick=()=>{
      if(document.querySelector(".flipped")) return;

      wrap.classList.add("flipped");
      fireConfetti();

      stageIndex++;
      setTimeout(showStage,1800);
    };

    area.appendChild(wrap);
  });
}

/* CONFETTI */
const confettiCanvas=document.getElementById("confettiCanvas");
const confettiInstance=confetti.create(confettiCanvas,{resize:true,useWorker:true});

function fireConfetti(){
  confettiInstance({
    particleCount:180,
    spread:80,
    startVelocity:70,
    origin:{x:.5,y:1}
  });
}
</script>

</body>
</html>
